(window.webpackJsonptodo=window.webpackJsonptodo||[]).push([[0],{33:function(e,t,a){e.exports=a(69)},40:function(e,t,a){},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=(a(40),a(7)),i=(a(46),a(6)),u=a(1),s=function(e){try{var t=localStorage.getItem(e);return t=JSON.parse(t)}catch(a){return}},E=function(e,t){localStorage.setItem(e,JSON.stringify(t))},m=function(){return r.a.createElement("div",null,"About")},d=a(8),p=a.n(d),g=function(){var e=s("cart"),t=0;if(e&&e.map((function(e){return t+=Number(e.price)})),e){var a=e.length;E("length",a)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Cart"),"  ",a?r.a.createElement("h2",null,"You Have ",a," Items and Total is $",t," "):null,e?e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{src:e.image,alt:"",width:"100px"}),r.a.createElement("h1",null,e.price),r.a.createElement("h4",null,e.title),r.a.createElement("button",null,"Remove From Cart"))})):r.a.createElement("h1",null,"No Items In Cart"))},h=function(){var e=s("token");return console.log(e),r.a.createElement("div",null,"Home",r.a.createElement("div",null,"Token : ",e?e.token:null))},b=a(14),f=a(3),v=a(5),O=function(){var e=Object(n.useState)({email:"eve.holt@reqres.in",password:"cityslicka"}),t=Object(v.a)(e,2),a=t[0],l=t[1],c=function(e){var t=e.target,n=t.name,r=t.value;l(Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},n,r)))},i=Object(o.b)(),s=Object(u.f)();return r.a.createElement("div",null,"Login",r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),a.email&&a.password){var t={email:a.email,password:a.password};i({type:"GET_LOGIN_REQUEST"}),p.a.post("https://reqres.in/api/login",t).then((function(e){i(function(e){return{type:"GET_LOGIN_SUCCESS",payload:e}}(e.data)),alert("Succeed"),s("/")})).catch((function(){i({type:"GET_LOGIN_FAILURE"}),alert("Please Enter Valid Details")}))}else alert("Please Enter Valid Details")}},r.a.createElement("input",{type:"email",placeholder:"Enter Your Email",name:"email",value:a.email,onChange:c})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"Enter Your Password",name:"password",value:a.password,onChange:c})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("button",null,"Login")))},L=function(){var e=Object(o.c)((function(e){return{products:e.AppReducer.products,isLoading:e.AppReducer.isLoading,isError:e.AppReducer.isError}})),t=e.products,a=e.isLoading,l=e.isError,c=Object(o.b)();return Object(n.useEffect)((function(){c({type:"GET_PRODUCTS_REUEST"}),p.a.get("http://localhost:8080/products").then((function(e){console.log(e.data),c({type:"GET_PRODUCTS_SUCCESS",payload:e.data})})).catch((function(e){return c({type:"GET_PRODUCTS_FAILURE"})}))}),[]),console.log("products is : ",t),a?r.a.createElement("div",null,"...Laoding"):l?r.a.createElement("div",null,"...Something Went Wrong"):r.a.createElement("div",null,"Products",t.length>=0&&t.map((function(e){return r.a.createElement(i.b,{key:e.id,to:"/products/".concat(e.id)},r.a.createElement("div",null,e.id))})))},S=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(u.g)();Object(n.useEffect)((function(){p.a.get("http://localhost:8080/products/".concat(c.id)).then((function(e){return l(e.data)})).catch((function(e){return alert(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"ProductsDetails"),r.a.createElement("img",{src:a.image,alt:"",width:"100px"}),r.a.createElement("h1",null,a.price),r.a.createElement("button",{onClick:function(){var e=s("cart")||[];e.push(a),E("cart",e),alert("Added"),window.location.reload(!1)}},"Add To Cart"))},j=function(){var e=s("cart");if(e)var t=e.length;console.log("length from LocalStorage is ",t);var a=s("isAuth");return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"Home"),"  ","   ",r.a.createElement(i.b,{to:"/products"},"Products")," "," ",r.a.createElement(i.b,{to:"/about"},"About")," "," ",r.a.createElement(i.b,{to:"/login"},"Login")," "," ",r.a.createElement(i.b,{to:"/cart"},"Cart")," ",t?r.a.createElement("span",null,t,"  "):0," "," ",r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",element:r.a.createElement(h,null)}),r.a.createElement(u.a,{path:"/about",element:a?r.a.createElement(m,null):r.a.createElement(O,null)}),r.a.createElement(u.a,{path:"/cart",element:a?r.a.createElement(g,null):r.a.createElement(O,null)}),r.a.createElement(u.a,{path:"/login",element:r.a.createElement(O,null)}),r.a.createElement(u.a,{path:"/products",element:a?r.a.createElement(L,null):r.a.createElement(O,null)}),r.a.createElement(u.a,{path:"/products/:id",element:r.a.createElement(S,null)})))};var w=function(){Object(o.c)((function(e){return e.AppReducer.products}));var e=Object(o.c)((function(e){return{auth:e.AuthReducer.isAuth,token:e.AuthReducer.token}})),t=e.auth,a=e.token;return console.log("isAuth : ",t),console.log("Token :  ",a),r.a.createElement("div",{className:"App"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(20),A=a(15),_={products:[],status:!1,isLoading:!1,isError:!1},R={isLoginLoading:!1,isLoginError:!1,token:"",isAuth:s("isAuth")||!1},C=Object(T.a)({AppReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PRODUCTS_REUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0,isError:!1});case"GET_PRODUCTS_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{isError:!0});case"GET_PRODUCTS_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,isError:!1,products:Object(A.a)(n)});default:return e}},AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_LOGIN_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoginLoading:!0,isLoginError:!1});case"GET_LOGIN_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{isLoginLoading:!1,isLoginError:!0});case"GET_LOGIN_SUCCESS":var r=n,l=!0;return E("isAuth",l),E("token",r),Object(f.a)(Object(f.a)({},e),{},{isLoginLoading:!1,isLoginError:!1,token:r,isAuth:l});default:return e}}}),y=Object(T.b)(C);c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:y},r.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.17216acb.chunk.js.map